<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head><link rel="icon" href="../../../../../favicon-checkerframework.png" type="image/png"/>
<!-- Generated by javadoc -->
<title>CreatesMustCallFor (checker-framework 3.39.0-eisop1 API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="CreatesMustCallFor (checker-framework 3.39.0-eisop1 API)";
        }
    }
    catch(err) {
    }
//-->
var pathtoroot = "../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.checkerframework.checker.mustcall.qual</a></div>
<h2 title="Annotation Type CreatesMustCallFor" class="title">Annotation Type CreatesMustCallFor</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>@Target(METHOD)
<a href="../../../framework/qual/InheritedAnnotation.html" title="annotation in org.checkerframework.framework.qual">@InheritedAnnotation</a>
@Retention(RUNTIME)
@Repeatable(<a href="CreatesMustCallFor.List.html" title="annotation in org.checkerframework.checker.mustcall.qual">List.class</a>)
public @interface <span class="memberNameLabel">CreatesMustCallFor</span></pre>
<div class="block">Indicates that the method resets the expression's must-call type to its declared type. This
 effectively undoes flow-sensitive type refinement. The expression is the <code>value</code>
 argument/element. More precisely, a call to a method annotated by this annotation changes the
 expression's must-call type to the least upper bound of its current must-call type and its
 declared must-call type.

 <p>When calling a method annotated as <code>@CreatesMustCallFor("</code><em>expression</em><code>")</code>,
 the <code>expression</code>'s static type in the Called Methods type system must be <code>@</code><a href="../../calledmethods/qual/CalledMethods.html" title="annotation in org.checkerframework.checker.calledmethods.qual"><code>CalledMethods</code></a><code>({})</code>. That is, <code>expression</code>'s CalledMethods type must be empty.

 <p><code>@CreatesMustCallFor("obj")</code> must be written on any method that assigns a non-final,
 owning field of <code>obj</code> whose declared type has a must-call obligation.

 <p>Because this annotation can only add obligations, it can be written safely on any method, even
 one that does not actually create a new obligation. Writing this annotation on a method that does
 not actually create any new obligations may lead to false alarms (warnings at correct code), but
 never to missed alarms (lack of warnings at incorrect code).

 <p>As an example, consider the following code, which uses a <code>@CreatesMustCallFor</code>
 annotation to indicate that the <code>reset()</code> method re-assigns the <code>socket</code> field:

 <pre>
 &#64;MustCall("stop")
 class SocketContainer {
     // Note that @MustCall("close") is the default type for java.net.Socket, but it
     // is included on the next line for illustrative purposes. This example would function
     // identically if that qualifier were omitted.
     private @Owning @MustCall("close") Socket socket = ...;

     &#64;EnsuresCalledMethods(value="this.socket", methods="close")
     public void stop() throws IOException {
       socket.close();
     }

    &#64;CreatesMustCallFor("this")
    public void reset() {
      if (socket.isClosed()) {
        socket = new Socket(...);
      }
    }
 }
 </pre>

 A client of <code>SocketContainer</code> is permitted to call <code>reset()</code> arbitrarily many times.
 Each time it does so, a new <code>Socket</code> might be created. A <code>SocketContainer</code>'s
 must-call obligation of "stop" is fulfilled only if <code>stop()</code> is called after the last call
 to <code>reset()</code>. The <code>@CreatesMustCallFor</code> annotation on <code>reset()</code>'s declaration
 enforces this requirement: at any call to <code>reset()</code>, all called-methods information about
 the receiver is removed from the store of the Must Call Checker and the store of the Called
 Methods Checker, so the client has to "start over" as if a fresh <code>SocketContainer</code> object
 had been created.

 <p>When the <code>-AnoCreatesMustCallFor</code> command-line argument is passed to the checker, this
 annotation is ignored and all fields are treated as non-owning.</div>
<dl><DT><B>See the Checker Framework Manual:</B><DD><A HREF="https://eisop.github.io/cf/manual/#resource-leak-checker">Resource Leak Checker</A><BR></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="annotation.type.optional.element.summary">
<!--   -->
</a>
<h3>Optional Element Summary</h3>
<table class="memberSummary">
<caption><span>Optional Elements</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Optional Element</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#value()">value</a></span></code></th>
<td class="colLast">
<div class="block">Returns the expression whose must-call type is reset after a call to a method with this
 annotation.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ ANNOTATION TYPE MEMBER DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="annotation.type.element.detail">
<!--   -->
</a>
<h3>Element Detail</h3>
<a id="value()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>value</h4>
<pre><a href="../../../framework/qual/JavaExpression.html" title="annotation in org.checkerframework.framework.qual">@JavaExpression</a>
java.lang.String&nbsp;value</pre>
<div class="block">Returns the expression whose must-call type is reset after a call to a method with this
 annotation. The expression must be visible in the scope immediately before each call site, so
 it can only refer to fields, the method's parameters (which should be referenced via the "#X"
 syntax, where "#1" is the first argument, #2 is the second, etc.), or <code>"this"</code>. The
 default is <code>"this"</code>. At call-sites, the viewpoint-adapted referent of expression must
 be owning (an owning field, a local variable tracked in a resource alias set, etc.) or a
 <code>reset.not.owning</code> error is issued.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the expression to which must-call obligations are added when the annotated method is
     invoked</dd>
</dl>
<dl>
<dt>Default:</dt>
<dd>"this"</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Required&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.optional.element.summary">Optional</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation.type.element.detail">Element</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
